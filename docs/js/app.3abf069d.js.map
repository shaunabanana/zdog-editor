{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/components/SceneEditor.vue?728c","webpack:///./src/components/TreeEditor.vue?17ce","webpack:///./src/components/PropertyEditor.vue?a333","webpack:///./src/App.vue?6ec1","webpack:///./src/components/Menu.vue?3a5a","webpack:///src/components/Menu.vue","webpack:///./src/components/Menu.vue?5be4","webpack:///./src/components/Menu.vue","webpack:///./src/components/TreeEditor.vue?356c","webpack:///./src/components/CreateDropdown.vue?f95a","webpack:///src/components/CreateDropdown.vue","webpack:///./src/components/CreateDropdown.vue?3a2b","webpack:///./src/components/CreateDropdown.vue","webpack:///src/components/TreeEditor.vue","webpack:///./src/components/TreeEditor.vue?5636","webpack:///./src/components/TreeEditor.vue?d707","webpack:///./src/components/SceneEditor.vue?fbc5","webpack:///src/components/SceneEditor.vue","webpack:///./src/components/SceneEditor.vue?b29e","webpack:///./src/components/SceneEditor.vue","webpack:///./src/components/PropertyEditor.vue?a9f3","webpack:///src/components/PropertyEditor.vue","webpack:///./src/components/PropertyEditor.vue?9baf","webpack:///./src/components/PropertyEditor.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","scene","on","$event","shapes","id","shape","saveFile","loadFile","ref","staticStyle","selection","_v","staticRenderFns","$emit","props","title","component","model","callback","$$v","filterText","expression","defaultProps","filterNode","renderContent","onNodeDrop","emitCommand","slot","methods","command","label","type","children","watch","val","$refs","tree","filter","indexOf","h","node","createNode","parent","console","recursiveUpdateId","duplicateNode","removeNode","getPath","nodeId","root","getWorldTransform","path","style","background","axes","default","resizeObserver","width","height","illustration","construct","element","setup","Illustration","dragRotate","resize","addTo","color","stroke","Polygon","radius","sides","translate","x","rotate","z","fill","Shape","y","updateRenderGraph","render","requestAnimationFrame","deep","handler","mounted","$set","_l","group","prop","updateProperty","_e","degrees","radians","updatePath","computed","properties","range","skip","includes","a","b","indexA","indexB","components","TreeEditor","SceneEditor","PropertyEditor","Menu","updateSelection","e","load","click","onchange","changeEvent","target","files","reader","FileReader","content","loadEvent","Vue","config","productionTip","use","ElementUI","App","$mount"],"mappings":"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","file":"js/app.3abf069d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/zdog-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneEditor.vue?vue&type=style&index=0&id=366fc6d4&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeEditor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertyEditor.vue?vue&type=style&index=0&id=0e952b6f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('SceneEditor',{staticClass:\"backdrop\",attrs:{\"scene\":_vm.scene},on:{\"setup\":function($event){_vm.shapes = {}},\"new-shape\":function($event){_vm.shapes[$event.id] = $event.shape}}}),_c('el-container',{staticClass:\"mouse-disable\"},[_c('el-header',{attrs:{\"height\":\"2rem\"}},[_c('Menu',{staticClass:\"mouse-enable\",on:{\"save\":_vm.saveFile,\"load\":_vm.loadFile}}),_c('input',{ref:\"load\",staticStyle:{\"opacity\":\"0\"},attrs:{\"type\":\"file\"}})],1),_c('el-main',{attrs:{\"height\":\"calc(100vh - 2rem)\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('TreeEditor',{staticClass:\"mouse-enable\",attrs:{\"scene\":_vm.scene,\"shapes\":_vm.shapes},on:{\"select\":function($event){_vm.selection = $event}}})],1),_c('el-col',{attrs:{\"span\":12}},[_vm._v(\"Â \")]),_c('el-col',{attrs:{\"span\":7}},[_c('PropertyEditor',{staticClass:\"mouse-enable\",attrs:{\"shapes\":_vm.shapes,\"selection\":_vm.selection}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-menu',{attrs:{\"mode\":\"horizontal\"}},[_c('el-menu-item',{attrs:{\"index\":\"1\"},on:{\"click\":function($event){return _vm.$emit('save')}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\"Save \")]),_c('el-menu-item',{attrs:{\"index\":\"2\"},on:{\"click\":function($event){return _vm.$emit('load')}}},[_c('i',{staticClass:\"el-icon-upload2\"}),_vm._v(\"Load \")])],1),_c('div',{staticClass:\"line\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-menu\n      mode=\"horizontal\"\n    >\n      <el-menu-item index=\"1\" @click=\"$emit('save')\">\n        <i class=\"el-icon-download\"></i>Save\n      </el-menu-item>\n      <el-menu-item index=\"2\" @click=\"$emit('load')\">\n        <i class=\"el-icon-upload2\"></i>Load\n      </el-menu-item>\n    </el-menu>\n    <div class=\"line\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Menu\",\n  props: {},\n\n  data() {\n    return {\n      title: 'Untitled'\n    };\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=111473e4&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"111473e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\"},[_c('el-input',{staticStyle:{\"margin-bottom\":\"1em\"},attrs:{\"placeholder\":\"Filter by name...\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_c('el-tree',{ref:\"tree\",attrs:{\"draggable\":\"\",\"data\":_vm.scene,\"props\":_vm.defaultProps,\"filter-node-method\":_vm.filterNode,\"render-content\":_vm.renderContent,\"expand-on-click-node\":false,\"default-expand-all\":true,\"highlight-current\":true},on:{\"node-drop\":_vm.onNodeDrop,\"node-click\":function($event){return _vm.$emit('select', $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.emitCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"Anchor\"}},[_vm._v(\" Anchor \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Group\"}},[_vm._v(\" Group \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Rect\"}},[_vm._v(\" Rect \")]),_c('el-dropdown-item',{attrs:{\"command\":\"RoundedRect\"}},[_vm._v(\" RoundedRect \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Ellipse\"}},[_vm._v(\" Ellipse \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Polygon\"}},[_vm._v(\" Polygon \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Shape\"}},[_vm._v(\" Shape \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Box\"}},[_vm._v(\" Box \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Cylinder\"}},[_vm._v(\" Cylinder \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Hemisphere\"}},[_vm._v(\" Hemisphere \")]),_c('el-dropdown-item',{attrs:{\"command\":\"Cone\"}},[_vm._v(\" Cone \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dropdown trigger=\"click\" @command=\"emitCommand\">\n    <span class=\"el-dropdown-link\">\n      <el-button size=\"mini\" type=\"text\"> <i class=\"el-icon-plus\"></i> </el-button>\n    </span>\n    <el-dropdown-menu slot=\"dropdown\">\n      <el-dropdown-item command=\"Anchor\"> Anchor </el-dropdown-item>\n      <el-dropdown-item command=\"Group\"> Group </el-dropdown-item>\n      <el-dropdown-item command=\"Rect\"> Rect </el-dropdown-item>\n      <el-dropdown-item command=\"RoundedRect\"> RoundedRect </el-dropdown-item>\n      <el-dropdown-item command=\"Ellipse\"> Ellipse </el-dropdown-item>\n      <el-dropdown-item command=\"Polygon\"> Polygon </el-dropdown-item>\n      <el-dropdown-item command=\"Shape\"> Shape </el-dropdown-item>\n      <el-dropdown-item command=\"Box\"> Box </el-dropdown-item>\n      <el-dropdown-item command=\"Cylinder\"> Cylinder </el-dropdown-item>\n      <el-dropdown-item command=\"Hemisphere\"> Hemisphere </el-dropdown-item>\n      <el-dropdown-item command=\"Cone\"> Cone </el-dropdown-item>\n    </el-dropdown-menu>\n  </el-dropdown>\n</template>\n\n<script>\nexport default {\n  name: \"CreateDropdown\",\n  props: {},\n\n  methods: {\n      emitCommand(command) {\n          this.$emit('command', command);\n      }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateDropdown.vue?vue&type=template&id=59f2910a&scoped=true&\"\nimport script from \"./CreateDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59f2910a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-card class=\"box-card\">\n    <el-input\n      placeholder=\"Filter by name...\"\n      v-model=\"filterText\"\n      style=\"margin-bottom: 1em\"\n    >\n    </el-input>\n\n    <el-tree\n      draggable\n      ref=\"tree\"\n      :data=\"scene\"\n      :props=\"defaultProps\"\n      :filter-node-method=\"filterNode\"\n      :render-content=\"renderContent\"\n      :expand-on-click-node=\"false\"\n      :default-expand-all=\"true\"\n      :highlight-current=\"true\"\n      @node-drop=\"onNodeDrop\"\n      @node-click=\"$emit('select', $event)\"\n    ></el-tree>\n  </el-card>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from \"uuid\";\nimport CreateDropdown from \"./CreateDropdown.vue\"\n\nexport default {\n  name: \"TreeEditor\",\n  // components: {CreateDropdown},\n  props: {\n    scene: Array,\n    shapes: Object,\n  },\n\n  data() {\n    return {\n      filterText: \"\",\n      defaultProps: {\n        id: \"id\",\n        label: \"label\",\n        type: \"type\",\n        props: \"props\",\n        children: \"children\",\n      },\n    };\n  },\n\n  watch: {\n    filterText(val) {\n      this.$refs.tree.filter(val);\n    },\n  },\n\n  methods: {\n    filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n\n    renderContent(h, { node, data }) {\n      if (data.id === \"ROOT\") {\n        return (\n          <span class=\"custom-tree-node\">\n            <span>{node.label}</span>\n            <span>\n              <CreateDropdown onCommand={command => this.createNode(data, command)}/>\n            </span>\n          </span>\n        );\n      } else {\n        return (\n          <span class=\"custom-tree-node\">\n            <span>{node.label}</span>\n            <span>\n              <CreateDropdown onCommand={command => this.createNode(data, command)}/>\n              <el-button\n                size=\"mini\"\n                type=\"text\"\n                on-click={() => this.duplicateNode(node, data)}\n                style=\"margin-left: 0.3em;\"\n              >\n                <i class=\"el-icon-copy-document\"></i>\n              </el-button>\n              <el-button\n                size=\"mini\"\n                type=\"text\"\n                on-click={() => this.removeNode(node, data)}\n                style=\"margin-left: 0.3em;\"\n              >\n                <i class=\"el-icon-delete\"></i>\n              </el-button>\n            </span>\n          </span>\n        );\n      }\n    },\n\n    createNode (parent, type) {\n      console.log(parent, type);\n      parent.children.push({\n        id: uuidv4(),\n        label: type,\n        type: type,\n        props: {},\n        children: []\n      });\n    },\n\n    recursiveUpdateId(data) {\n      data.id = uuidv4();\n      for (let child of data.children) {\n        this.recursiveUpdateId(child);\n      }\n    },\n\n    duplicateNode (node, data) {\n        const parent = node.parent;\n        const children = parent.data.children || parent.data;\n        // console.log(data, parent, children);\n        let newChild = JSON.parse(JSON.stringify(data));\n        this.recursiveUpdateId(newChild);\n        children.push(newChild);\n    },\n\n    removeNode(node, data) {\n        const parent = node.parent;\n        const children = parent.data.children || parent.data;\n        const index = children.findIndex(d => d.id === data.id);\n        children.splice(index, 1);\n    },\n\n    onNodeDrop() {\n      // if (location !== 'inner') return;\n      // console.log(from.data.label)\n      // let toShape = this.shapes[to.data.id];\n      // console.log(this.getWorldTransform(from));\n    },\n\n    getPath(nodeId, root) {\n      if (root.id === nodeId) return [nodeId];\n      // let path = [root.id];\n      for (let child of root.children) {\n        let part = this.getPath(nodeId, child);\n        if (part.length > 0) return [root.id].concat(part);\n      }\n      return [];\n    },\n\n    getWorldTransform(node) {\n      let path;\n      for (let element of this.scene) {\n        path = this.getPath(node.data.id, element);\n        if (path.length > 0) break;\n      }\n      if (path.length === 0)\n        console.error(\n          `Could not find a path to node ${node.data.id}. Is something wrong?`,\n          node\n        );\n      console.log(path);\n      // let shape = this.shapes[node.data.id];\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.custom-tree-node {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  padding-right: 8px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeEditor.vue?vue&type=template&id=9829e228&\"\nimport script from \"./TreeEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",style:({ background: _vm.background }),attrs:{\"id\":\"zdog-canvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas\n    ref=\"canvas\"\n    id=\"zdog-canvas\"\n    :style=\"{ background: background }\"\n  ></canvas>\n</template>\n\n<script>\nimport Zdog from \"zdog\";\n\nexport default {\n  name: \"SceneEditor\",\n  props: {\n    scene: Array,\n    axes: Boolean,\n    background: {\n      type: String,\n      default: \"#FDB\",\n    },\n  },\n\n  data() {\n    return {\n      resizeObserver: null,\n      width: 0,\n      height: 0,\n      illustration: null,\n    };\n  },\n\n  methods: {\n    construct(element, parent) {\n      let props = JSON.parse(JSON.stringify(element.props));\n      props.addTo = parent;\n      let shape = new Zdog[element.type](props);\n      // console.log({\n      //   id: element.id,\n      //   shape: shape,\n      // });\n      this.$emit(\"new-shape\", {\n        id: element.id,\n        shape: shape,\n      });\n      for (let child of element.children) {\n        this.construct(child, shape);\n      }\n    },\n\n    setup() {\n      this.$emit(\"setup\");\n\n      this.illustration = new Zdog.Illustration({\n        element: this.$refs.canvas,\n        dragRotate: true,\n        resize: true,\n      });\n\n      if (this.axes) {\n        let origin = new Zdog.Shape({\n          addTo: this.illustration,\n          color: \"#636\",\n          stroke: 3,\n        });\n\n        new Zdog.Polygon({\n          addTo: origin,\n          radius: 5,\n          sides: 3,\n          translate: { x: 100 },\n          rotate: { z: -Math.PI / 6 },\n          stroke: 5,\n          fill: true,\n          color: \"#C25\",\n        });\n\n        new Zdog.Shape({\n          addTo: origin,\n          path: [{}, { x: 100 }],\n          color: \"#C25\",\n          stroke: 3,\n        });\n\n        new Zdog.Polygon({\n          addTo: origin,\n          radius: 5,\n          sides: 3,\n          translate: { y: -100 },\n          stroke: 5,\n          fill: true,\n          color: \"#E62\",\n        });\n\n        new Zdog.Shape({\n          addTo: origin,\n          path: [{}, { y: -100 }],\n          color: \"#E62\",\n          stroke: 3,\n        });\n\n        new Zdog.Polygon({\n          addTo: origin,\n          radius: 5,\n          sides: 3,\n          translate: { z: 100 },\n          rotate: { z: -Math.PI / 6, y: Math.PI / 2 },\n          stroke: 5,\n          fill: true,\n          color: \"#636\",\n        });\n\n        new Zdog.Shape({\n          addTo: origin,\n          path: [{}, { z: 100 }],\n          color: \"#636\",\n          stroke: 3,\n        });\n      }\n\n      for (let element of this.scene) {\n        this.construct(element, this.illustration);\n      }\n\n      // update & render\n      this.illustration.updateRenderGraph();\n    },\n\n    render() {\n      this.illustration.updateRenderGraph();\n      requestAnimationFrame(this.render.bind(this));\n    },\n  },\n\n  watch: {\n    scene: {\n      deep: true,\n      handler() {\n        let rotate = this.illustration.rotate;\n        this.setup();\n        this.illustration.rotate = rotate;\n      },\n    },\n  },\n\n  mounted() {\n    this.setup();\n    this.render();\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ncanvas {\n  width: 100%;\n  height: 100%;\n  cursor: move;\n  z-index: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SceneEditor.vue?vue&type=template&id=366fc6d4&scoped=true&\"\nimport script from \"./SceneEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./SceneEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SceneEditor.vue?vue&type=style&index=0&id=366fc6d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"366fc6d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selection !== null)?_c('el-card',{staticClass:\"property-editor\"},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"100px\",\"size\":\"mini\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"Layer Name\"}},[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.selection.label),callback:function ($$v) {_vm.$set(_vm.selection, \"label\", $$v)},expression:\"selection.label\"}})],1),_c('el-collapse',_vm._l((_vm.properties),function(group){return _c('el-collapse-item',{key:group.name,attrs:{\"title\":group.name,\"name\":group.name}},_vm._l((group.props),function(prop){return _c('el-form-item',{key:prop.name,attrs:{\"label\":prop.name}},[(prop.type === 'number')?_c('el-input-number',{attrs:{\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, $event)}},model:{value:(_vm.shapes[_vm.selection.id][prop.name]),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id], prop.name, $$v)},expression:\"shapes[selection.id][prop.name]\"}}):_vm._e(),(prop.type === 'boolean')?_c('el-switch',{on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, $event)}},model:{value:(_vm.shapes[_vm.selection.id][prop.name]),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id], prop.name, $$v)},expression:\"shapes[selection.id][prop.name]\"}}):_vm._e(),(\n              prop.type === 'string' &&\n              _vm.shapes[_vm.selection.id][prop.name].slice(0, 1) === '#'\n            )?_c('el-color-picker',{attrs:{\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, $event)}},model:{value:(_vm.shapes[_vm.selection.id][prop.name]),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id], prop.name, $$v)},expression:\"shapes[selection.id][prop.name]\"}}):_vm._e(),(prop.type === 'vector' && prop.name !== 'rotate')?_c('el-input-number',{attrs:{\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { x: $event })}},model:{value:(_vm.shapes[_vm.selection.id][prop.name].x),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id][prop.name], \"x\", $$v)},expression:\"shapes[selection.id][prop.name].x\"}}):_vm._e(),(prop.type === 'vector' && prop.name !== 'rotate')?_c('el-input-number',{attrs:{\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { y: $event })}},model:{value:(_vm.shapes[_vm.selection.id][prop.name].y),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id][prop.name], \"y\", $$v)},expression:\"shapes[selection.id][prop.name].y\"}}):_vm._e(),(prop.type === 'vector' && prop.name !== 'rotate')?_c('el-input-number',{attrs:{\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { z: $event })}},model:{value:(_vm.shapes[_vm.selection.id][prop.name].z),callback:function ($$v) {_vm.$set(_vm.shapes[_vm.selection.id][prop.name], \"z\", $$v)},expression:\"shapes[selection.id][prop.name].z\"}}):_vm._e(),(prop.type === 'vector' && prop.name === 'rotate')?_c('el-input-number',{attrs:{\"value\":_vm.degrees(_vm.shapes[_vm.selection.id][prop.name].x),\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { x: $event })}}}):_vm._e(),(prop.type === 'vector' && prop.name === 'rotate')?_c('el-input-number',{attrs:{\"value\":_vm.degrees(_vm.shapes[_vm.selection.id][prop.name].y),\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { y: $event })}}}):_vm._e(),(prop.type === 'vector' && prop.name === 'rotate')?_c('el-input-number',{attrs:{\"value\":_vm.degrees(_vm.shapes[_vm.selection.id][prop.name].z),\"controls\":false,\"size\":\"mini\"},on:{\"change\":function($event){return _vm.updateProperty(_vm.selection.id, prop.name, { z: $event })}}}):_vm._e()],1)}),1)}),1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-card class=\"property-editor\" v-if=\"selection !== null\">\n    <el-form ref=\"form\" label-width=\"100px\" size=\"mini\" :inline=\"true\">\n      <el-form-item label=\"Layer Name\">\n        <el-input v-model=\"selection.label\" size=\"mini\"> </el-input>\n      </el-form-item>\n\n      <el-collapse>\n        <el-collapse-item\n          v-for=\"group in properties\"\n          :key=\"group.name\"\n          :title=\"group.name\"\n          :name=\"group.name\"\n        >\n          <el-form-item\n            v-for=\"prop in group.props\"\n            :key=\"prop.name\"\n            :label=\"prop.name\"\n          >\n            <!-- Number -->\n            <el-input-number\n              v-if=\"prop.type === 'number'\"\n              v-model=\"shapes[selection.id][prop.name]\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, $event)\"\n            >\n            </el-input-number>\n\n            <!-- Boolean -->\n            <el-switch\n              v-if=\"prop.type === 'boolean'\"\n              v-model=\"shapes[selection.id][prop.name]\"\n              @change=\"updateProperty(selection.id, prop.name, $event)\"\n            >\n            </el-switch>\n\n            <!-- Color String -->\n            <el-color-picker\n              v-if=\"\n                prop.type === 'string' &&\n                shapes[selection.id][prop.name].slice(0, 1) === '#'\n              \"\n              v-model=\"shapes[selection.id][prop.name]\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, $event)\"\n            ></el-color-picker>\n\n            <!-- Vector (not rotate!) -->\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name !== 'rotate'\"\n              v-model=\"shapes[selection.id][prop.name].x\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { x: $event })\"\n            >\n            </el-input-number>\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name !== 'rotate'\"\n              v-model=\"shapes[selection.id][prop.name].y\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { y: $event })\"\n            >\n            </el-input-number>\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name !== 'rotate'\"\n              v-model=\"shapes[selection.id][prop.name].z\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { z: $event })\"\n            >\n            </el-input-number>\n\n            <!-- Vector Rotate -->\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name === 'rotate'\"\n              :value=\"degrees(shapes[selection.id][prop.name].x)\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { x: $event })\"\n            >\n            </el-input-number>\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name === 'rotate'\"\n              :value=\"degrees(shapes[selection.id][prop.name].y)\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { y: $event })\"\n            >\n            </el-input-number>\n            <el-input-number\n              v-if=\"prop.type === 'vector' && prop.name === 'rotate'\"\n              :value=\"degrees(shapes[selection.id][prop.name].z)\"\n              :controls=\"false\"\n              size=\"mini\"\n              @change=\"updateProperty(selection.id, prop.name, { z: $event })\"\n            >\n            </el-input-number>\n          </el-form-item>\n        </el-collapse-item>\n      </el-collapse>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\nexport default {\n  name: \"PropertyEditor\",\n  props: {\n    selection: Object,\n    shapes: Object,\n  },\n\n  methods: {\n    updateProperty(id, property, value) {\n      this.$emit(\"update\", id, property, value);\n      if (typeof value === \"object\") {\n        for (let key of Object.keys(value)) {\n          if (!this.selection.props[property])\n            this.selection.props[property] = {};\n          if (property === \"rotate\") {\n            this.selection.props[property][key] = this.radians(value[key]);\n            this.shapes[id][property][key] = this.radians(value[key]);\n          } else {\n            this.selection.props[property][key] = value[key];\n          }\n        }\n      } else {\n        this.selection.props[property] = value;\n      }\n\n      if (this.shapes[id].updatePath) {\n        this.shapes[id].updatePath();\n      }\n    },\n\n    radians(value) {\n      return (value * Math.PI) / 180;\n    },\n\n    degrees(value) {\n      return (value * 180) / Math.PI;\n    },\n  },\n\n  computed: {\n    properties() {\n      const skip = [\n        \"renderOrigin\",\n        \"renderFront\",\n        \"renderNormal\",\n        \"sortValue\",\n        \"isFacingBack\",\n        \"renderCentroid\",\n      ];\n      const result = [\n        {\n          name: \"Transform\",\n          range: [\"translate\", \"rotate\", \"scale\", \"origin\"],\n          props: [],\n        },\n        {\n          name: \"Shape and size\",\n          range: [\"width\", \"height\", \"diameter\", 'length', \"quarters\"],\n          props: [],\n        },\n        {\n          name: \"Style\",\n          range: [\"stroke\", \"color\", \"visible\", \"fill\", \"closed\", \"backface\"],\n          props: [],\n        },\n        { name: \"Others\", props: [] },\n      ];\n\n      if (!this.selection) return [];\n      let shape = this.shapes[this.selection.id];\n      let properties = [];\n      for (let key of Object.keys(shape)) {\n        if (skip.includes(key)) continue;\n        if (typeof shape[key] === \"object\") {\n          if (\n            typeof shape[key].x === \"number\" &&\n            typeof shape[key].y === \"number\" &&\n            typeof shape[key].z === \"number\"\n          ) {\n            properties.push({\n              name: key,\n              type: \"vector\",\n            });\n          }\n        } else if (typeof shape[key] !== \"undefined\") {\n          if (key.slice(0, 1) === '_') {\n            properties.push({\n              name: key.slice(1),\n              type: typeof shape[key],\n            });\n          } else {\n            properties.push({\n              name: key,\n              type: typeof shape[key],\n            });\n          }\n        }\n      }\n\n      for (let prop of properties) {\n        for (let group of result) {\n          if (group.range) {\n            if (group.range.includes(prop.name)) {\n              group.props.push(prop);\n              break;\n            }\n          } else {\n            group.props.push(prop);\n          }\n        }\n      }\n\n      for (let group of result) {\n        group.props.sort((a, b) => {\n          if (a.name === b.name) return 0;\n          if (!group.range) {\n            if (a.name < b.name) return -1;\n            else if (a.name > b.name) return 1;\n            else return 0;\n          }\n\n          let indexA = group.range.indexOf(a.name);\n          let indexB = group.range.indexOf(b.name);\n          if (indexA === -1 && indexB === -1) {\n            if (a.name < b.name) return -1;\n            else if (a.name > b.name) return 1;\n            else return 0;\n          } else if (indexA > -1 && indexB === -1) {\n            return -1;\n          } else if (indexA === -1 && indexB > -1) {\n            return 1;\n          } else {\n            return indexA - indexB;\n          }\n        });\n      }\n      console.log(result);\n      return result;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.property-editor {\n  max-height: 80vh;\n  overflow-y: scroll;\n}\n\n.el-input-number {\n  width: 4rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertyEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PropertyEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PropertyEditor.vue?vue&type=template&id=0e952b6f&scoped=true&\"\nimport script from \"./PropertyEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./PropertyEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PropertyEditor.vue?vue&type=style&index=0&id=0e952b6f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e952b6f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <SceneEditor\n      class=\"backdrop\"\n      :scene=\"scene\"\n      @setup=\"shapes = {}\"\n      @new-shape=\"shapes[$event.id] = $event.shape\"\n    />\n    <el-container class=\"mouse-disable\">\n      <el-header height=\"2rem\">\n        <Menu class=\"mouse-enable\" @save=\"saveFile\" @load=\"loadFile\"/>\n        <input ref=\"load\" style=\"opacity: 0\" type=\"file\">\n      </el-header>\n      <el-main height=\"calc(100vh - 2rem)\">\n        <el-col :span=\"5\">\n          <TreeEditor class=\"mouse-enable\" :scene=\"scene\" :shapes=\"shapes\" @select=\"selection = $event\" />\n        </el-col>\n        <el-col :span=\"12\">&nbsp;</el-col>\n        <el-col :span=\"7\">\n          <PropertyEditor  class=\"mouse-enable\" :shapes=\"shapes\" :selection=\"selection\"/>\n        </el-col>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\nimport Menu from \"./components/Menu.vue\";\nimport TreeEditor from \"./components/TreeEditor.vue\";\nimport SceneEditor from \"./components/SceneEditor.vue\";\nimport PropertyEditor from \"./components/PropertyEditor.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    TreeEditor,\n    SceneEditor,\n    PropertyEditor,\n    Menu,\n  },\n\n  data() {\n    return {\n      scene: [{\n        id: 'ROOT',\n        label: \"Root\",\n        type: 'Anchor',\n        props: {},\n        children: []\n      }],\n      selection: null,\n      shapes: {},\n      title: 'Untitled',\n    };\n  },\n\n  methods: {\n    updateSelection(id, property, value) {\n      if (typeof value === 'object') {\n        for (let key of Object.keys(value)) {\n          this.selection[property][value] = value[key];\n        }\n      } else {\n        this.selection[property] = value;\n      }\n    },\n\n    saveFile () {\n      const data = JSON.stringify(this.scene)\n      const blob = new Blob([data], {type: 'text/plain'})\n      const e = document.createEvent('MouseEvents'),\n      a = document.createElement('a');\n      a.download = \"zdog.json\";\n      a.href = window.URL.createObjectURL(blob);\n      a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n      e.initEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      a.dispatchEvent(e);\n    },\n\n    loadFile () {\n      this.$refs.load.click();\n      this.$refs.load.onchange = changeEvent => {\n        console.log(changeEvent.target.files[0]);\n        if (!changeEvent.target.files[0]) {\n          return;\n        }\n        var reader = new FileReader();\n        reader.onload = loadEvent => {\n          var content = loadEvent.target.result;\n          this.scene = JSON.parse(content);\n        };\n        reader.readAsText(changeEvent.target.files[0]);\n      }\n    }\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  margin: 0;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #636;\n  height: 100%;\n}\n\n.el-header {\n  padding: 0px;\n  margin-bottom: 2em;\n}\n\n.backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 0;\n}\n\n.el-container, .el-header, .el-main {\n  z-index: 100;\n}\n\n.mouse-disable {\n  pointer-events: none;\n}\n\n.mouse-enable {\n  pointer-events: auto;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=83bd3be6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}